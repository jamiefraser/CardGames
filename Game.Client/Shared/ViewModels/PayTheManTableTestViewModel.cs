using Game.Entities;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Game.Client.Shared.ViewModels
{
    public class PayTheManTableTestViewModel : IPayTheManTableTestViewModel
    {
        public PayTheManTableTestViewModel()
        {
            Table = Newtonsoft.Json.JsonConvert.DeserializeObject<Entities.Table>(tablejson);
            Hand = Newtonsoft.Json.JsonConvert.DeserializeObject<List<Card>>(handjson);
            DeckType = Table.Game.DeckType;
            Table.Players.First().Hand = Hand;
            Table.Players.Skip(1).Take(1).First().Hand = Newtonsoft.Json.JsonConvert.DeserializeObject<List<Card>>(hand2json);
            Table.Players.Add(new Player()
            {
                PrincipalName = "Fake Player",
                Hand = new List<Card>()
            });
            var h = Table.Players.Last().Hand;
            Console.WriteLine($"There are {Table.Deck.Cards.Count()} cards in the table's deck");
            for(int i=0;i<13;i++)
            {
                h.Add(Table.Deck.Cards.Dequeue());
            }
            //Hand = Table.Players.First().Hand;

        }
        private string handjson = "[{'IsSpecialCard':false,'Suit':'red','Rank':1},{'IsSpecialCard':false,'Suit':'red','Rank':11},{'IsSpecialCard':false,'Suit':'green','Rank':4},{'IsSpecialCard':false,'Suit':'blue','Rank':4},{'IsSpecialCard':false,'Suit':'red','Rank':5},{'IsSpecialCard':false,'Suit':'red','Rank':10},{'IsSpecialCard':false,'Suit':'red','Rank':7},{'IsSpecialCard':false,'Suit':'green','Rank':4},{'IsSpecialCard':false,'Suit':'red','Rank':9},{'IsSpecialCard':false,'Suit':'wild','Rank':100},{'IsSpecialCard':false,'Suit':'skip','Rank':200},{'IsSpecialCard':false,'Suit':'blue','Rank':8},{'IsSpecialCard':false,'Suit':'yellow','Rank':3}]";
        private string tablejson = "{'Id':'4b4b8897-c33c-461b-98c4-93d1e5f36869','TableOwner':{'PrincipalName':'Jamie Fraser','PrincipalId':'96cdcab5-546c-422b-8651-ba289b09f1b0','PrincipalIdp':'facebook.com','ZumoHeaders':{}},'InvitedPlayers':[],'InvitedPlayerIds':['96cdcab5-546c-422b-8651-ba289b09f1b0'],'Players':[{'Online':false,'PrincipalName':'Jamie Fraser','PrincipalId':'96cdcab5-546c-422b-8651-ba289b09f1b0','PrincipalIdp':'6ff6d1a9-1a4a-481a-a51a-691d2fbf52b9','Hand':[],'PartitionKey':null,'RowKey':null,'Timestamp':'0001-01-01T00:00:00+00:00','ETag':null},{'Online':false,'PrincipalName':'Private Name','PrincipalId':'57240767-146f-4690-b587-bda8a9bea408','PrincipalIdp':'AuthenticationTypes.Federation','Hand':[],'PartitionKey':null,'RowKey':null,'Timestamp':'0001-01-01T00:00:00+00:00','ETag':null}],'Started':true,'Finished':false,'PlayersRequestingAccess':[],'Name':'Test 1','MaxPlayers':4,'Game':{'NumberOfDecks':1,'DeckType':2,'MinimumPlayers':2,'MaxPlayers':4,'UsesDiscardPile':true,'PlayerPicksUpWholeDiscardPile':true,'NumberOfCardsToDeal':13,'ProgressiveDeal':false,'IncrementCardsToDealBy':0,'Name':'Red Elevens','PartitionKey':'Card Games','RowKey':'Red Elevens','Timestamp':'2021-02-05T16:47:51.9656929+00:00','ETag':null},'CurrentPlayersCount':2,'Deck':{'Id':'9fa23201-6321-45b8-a243-eb80881183f9','Cards':[{'IsSpecialCard':false,'Suit':'red','Rank':0},{'IsSpecialCard':false,'Suit':'red','Rank':1},{'IsSpecialCard':false,'Suit':'red','Rank':2},{'IsSpecialCard':false,'Suit':'red','Rank':3},{'IsSpecialCard':false,'Suit':'red','Rank':4},{'IsSpecialCard':false,'Suit':'red','Rank':5},{'IsSpecialCard':false,'Suit':'red','Rank':6},{'IsSpecialCard':false,'Suit':'red','Rank':7},{'IsSpecialCard':false,'Suit':'red','Rank':8},{'IsSpecialCard':false,'Suit':'red','Rank':9},{'IsSpecialCard':false,'Suit':'red','Rank':10},{'IsSpecialCard':false,'Suit':'red','Rank':11},{'IsSpecialCard':false,'Suit':'blue','Rank':0},{'IsSpecialCard':false,'Suit':'blue','Rank':1},{'IsSpecialCard':false,'Suit':'blue','Rank':2},{'IsSpecialCard':false,'Suit':'blue','Rank':3},{'IsSpecialCard':false,'Suit':'blue','Rank':4},{'IsSpecialCard':false,'Suit':'blue','Rank':5},{'IsSpecialCard':false,'Suit':'blue','Rank':6},{'IsSpecialCard':false,'Suit':'blue','Rank':7},{'IsSpecialCard':false,'Suit':'blue','Rank':8},{'IsSpecialCard':false,'Suit':'blue','Rank':9},{'IsSpecialCard':false,'Suit':'blue','Rank':10},{'IsSpecialCard':false,'Suit':'blue','Rank':11},{'IsSpecialCard':false,'Suit':'yellow','Rank':0},{'IsSpecialCard':false,'Suit':'yellow','Rank':1},{'IsSpecialCard':false,'Suit':'yellow','Rank':2},{'IsSpecialCard':false,'Suit':'yellow','Rank':3},{'IsSpecialCard':false,'Suit':'yellow','Rank':4},{'IsSpecialCard':false,'Suit':'yellow','Rank':5},{'IsSpecialCard':false,'Suit':'yellow','Rank':6},{'IsSpecialCard':false,'Suit':'yellow','Rank':7},{'IsSpecialCard':false,'Suit':'yellow','Rank':8},{'IsSpecialCard':false,'Suit':'yellow','Rank':9},{'IsSpecialCard':false,'Suit':'yellow','Rank':10},{'IsSpecialCard':false,'Suit':'yellow','Rank':11},{'IsSpecialCard':false,'Suit':'green','Rank':0},{'IsSpecialCard':false,'Suit':'green','Rank':1},{'IsSpecialCard':false,'Suit':'green','Rank':2},{'IsSpecialCard':false,'Suit':'green','Rank':3},{'IsSpecialCard':false,'Suit':'green','Rank':4},{'IsSpecialCard':false,'Suit':'green','Rank':5},{'IsSpecialCard':false,'Suit':'green','Rank':6},{'IsSpecialCard':false,'Suit':'green','Rank':7},{'IsSpecialCard':false,'Suit':'green','Rank':8},{'IsSpecialCard':false,'Suit':'green','Rank':9},{'IsSpecialCard':false,'Suit':'green','Rank':10},{'IsSpecialCard':false,'Suit':'green','Rank':11},{'IsSpecialCard':false,'Suit':'red','Rank':0},{'IsSpecialCard':false,'Suit':'red','Rank':1},{'IsSpecialCard':false,'Suit':'red','Rank':2},{'IsSpecialCard':false,'Suit':'red','Rank':3},{'IsSpecialCard':false,'Suit':'red','Rank':4},{'IsSpecialCard':false,'Suit':'red','Rank':5},{'IsSpecialCard':false,'Suit':'red','Rank':6},{'IsSpecialCard':false,'Suit':'red','Rank':7},{'IsSpecialCard':false,'Suit':'red','Rank':8},{'IsSpecialCard':false,'Suit':'red','Rank':9},{'IsSpecialCard':false,'Suit':'red','Rank':10},{'IsSpecialCard':false,'Suit':'red','Rank':11},{'IsSpecialCard':false,'Suit':'blue','Rank':0},{'IsSpecialCard':false,'Suit':'blue','Rank':1},{'IsSpecialCard':false,'Suit':'blue','Rank':2},{'IsSpecialCard':false,'Suit':'blue','Rank':3},{'IsSpecialCard':false,'Suit':'blue','Rank':4},{'IsSpecialCard':false,'Suit':'blue','Rank':5},{'IsSpecialCard':false,'Suit':'blue','Rank':6},{'IsSpecialCard':false,'Suit':'blue','Rank':7},{'IsSpecialCard':false,'Suit':'blue','Rank':8},{'IsSpecialCard':false,'Suit':'blue','Rank':9},{'IsSpecialCard':false,'Suit':'blue','Rank':10},{'IsSpecialCard':false,'Suit':'blue','Rank':11},{'IsSpecialCard':false,'Suit':'yellow','Rank':0},{'IsSpecialCard':false,'Suit':'yellow','Rank':1},{'IsSpecialCard':false,'Suit':'yellow','Rank':2},{'IsSpecialCard':false,'Suit':'yellow','Rank':3},{'IsSpecialCard':false,'Suit':'yellow','Rank':4},{'IsSpecialCard':false,'Suit':'yellow','Rank':5},{'IsSpecialCard':false,'Suit':'yellow','Rank':6},{'IsSpecialCard':false,'Suit':'yellow','Rank':7},{'IsSpecialCard':false,'Suit':'yellow','Rank':8},{'IsSpecialCard':false,'Suit':'yellow','Rank':9},{'IsSpecialCard':false,'Suit':'yellow','Rank':10},{'IsSpecialCard':false,'Suit':'yellow','Rank':11},{'IsSpecialCard':false,'Suit':'green','Rank':0},{'IsSpecialCard':false,'Suit':'green','Rank':1},{'IsSpecialCard':false,'Suit':'green','Rank':2},{'IsSpecialCard':false,'Suit':'green','Rank':3},{'IsSpecialCard':false,'Suit':'green','Rank':4},{'IsSpecialCard':false,'Suit':'green','Rank':5},{'IsSpecialCard':false,'Suit':'green','Rank':6},{'IsSpecialCard':false,'Suit':'green','Rank':7},{'IsSpecialCard':false,'Suit':'green','Rank':8},{'IsSpecialCard':false,'Suit':'green','Rank':9},{'IsSpecialCard':false,'Suit':'green','Rank':10},{'IsSpecialCard':false,'Suit':'green','Rank':11},{'IsSpecialCard':false,'Suit':'Wild','Rank':100},{'IsSpecialCard':false,'Suit':'Wild','Rank':100},{'IsSpecialCard':false,'Suit':'Wild','Rank':100},{'IsSpecialCard':false,'Suit':'Wild','Rank':100},{'IsSpecialCard':false,'Suit':'Wild','Rank':100},{'IsSpecialCard':false,'Suit':'Wild','Rank':100},{'IsSpecialCard':false,'Suit':'Wild','Rank':100},{'IsSpecialCard':false,'Suit':'Wild','Rank':100},{'IsSpecialCard':false,'Suit':'Skip','Rank':200},{'IsSpecialCard':false,'Suit':'Skip','Rank':200},{'IsSpecialCard':false,'Suit':'Skip','Rank':200},{'IsSpecialCard':false,'Suit':'Skip','Rank':200}]}}";
        private string hand2json = "[{'IsSpecialCard':false,'Suit':'green','Rank':7},{'IsSpecialCard':false,'Suit':'red','Rank':6},{'IsSpecialCard':false,'Suit':'yellow','Rank':7},{'IsSpecialCard':false,'Suit':'blue','Rank':0},{'IsSpecialCard':false,'Suit':'yellow','Rank':6},{'IsSpecialCard':false,'Suit':'Wild','Rank':100},{'IsSpecialCard':false,'Suit':'yellow','Rank':7},{'IsSpecialCard':false,'Suit':'blue','Rank':1},{'IsSpecialCard':false,'Suit':'red','Rank':7},{'IsSpecialCard':false,'Suit':'green','Rank':7},{'IsSpecialCard':false,'Suit':'Skip','Rank':200},{'IsSpecialCard':false,'Suit':'green','Rank':0},{'IsSpecialCard':false,'Suit':'green','Rank':1}]";
        public List<Player> Players { get; set; }
        public List<Card> Hand { get; set; }
        public Entities.DeckType DeckType { get; set; }
        public Entities.Table Table { get; set; }
    }
}
